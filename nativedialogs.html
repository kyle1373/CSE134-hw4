<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap"
      rel="stylesheet"
      type="text/css"
    />
    <script type="text/javascript" src="purify/dist/purify.min.js"></script>
    <meta name="nativedialogs" content="Kyle Wade Native Dialogs" />
    <title>Kyle Wade Native Dialogs</title>
    <style>
      * {
        font-family: "Roboto Condensed", sans-serif;
        color: #000000;
      }
      h1 {
        font-size: 200%;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>Native Dialogs</h1>
      <hr/>
    </header>
    <main>
      <div class="fourButtons">
        <button id="alertButton" type="button">Alert</button>
        <button id="confirmButton" type="button">Confirm</button>
        <button id="promptButton" type="button">Prompt</button>
        <button id="spromptButton" type="button">Safer Prompt</button>
      </div>
      <script type="text/javascript" src="purify/dist/purify.min.js"></script>
      <script>
        document
          .getElementById("alertButton")
          .addEventListener("click", () => {
            alert("Alert Pressed!");
          });
        document
          .getElementById("confirmButton")
          .addEventListener("click", () => {
            outputPrompt.hidden = true;
            outputPrompt = document.getElementById("outputPrompt");
            const response = confirm("Are you sure you want to do that?");
            outputPrompt.hidden = false;
            outputPrompt.innerHTML = "Confirm result : " + response;
          });
        document
          .getElementById("promptButton")
          .addEventListener("click", () => {
            outputPrompt.hidden = true;

            outputPrompt = document.getElementById("outputPrompt");

            var input = prompt("Enter something: ");

            outputPrompt.hidden = false;

            if (input === "") {
                outputPrompt.innerHTML = "Prompt result : User didn't enter anything";
              return;
            }
            outputPrompt.innerHTML = "Prompt result : " + input;
          });
        document
          .getElementById("spromptButton")
          .addEventListener("click", () =>  {
            outputPrompt.hidden = true;

            outputPrompt = document.getElementById("outputPrompt");

            let input = prompt("Enter something:");
            
            input = DOMPurify.sanitize(input);

            outputPrompt.hidden = false;

            if (input === "") {
              outputPrompt.innerHTML = "Prompt result : User didn't enter anything";
              return;
            }
            
            outputPrompt.innerHTML = "Prompt result : " + input;
          });
      </script>

      <output id="confirmationOutput">
        <p
          id="outputPrompt"
          style="border: 4px double black; 
          padding: 5px;
          font-size: 1.5rem;"
          hidden
        ></p>
      </output>
    </main>
  </body>
</html>
